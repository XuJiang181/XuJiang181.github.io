import y from"./B1RWItk3.js";import{g as h,y as b,r,i as C,j as w,c as u,o as n,a as o,b as D,t as _,q as E,B as F,C as A,F as I,m as L,p as k,D as $,E as z,G as B,_ as H}from"./BqYZxYz9.js";import{a as v}from"./BdRRwhP8.js";const R={class:"flex absolute items-center top-2 left-2 text-white z-[1] gap-2 font-[.9rem]"},j={class:"relative w-full after:content-[''] after:absolute after:top-0 after:left-0 after:w-full after:h-full after:bg-[url('data:image/svg+xml,%3Csvg%20viewBox%3D%270%200%20200%20200%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cfilter%20id%3D%27noiseFilter%27%3E%3CfeTurbulence%20type%3D%27fractalNoise%27%20baseFrequency%3D%270.8%27%20numOctaves%3D%273%27%20stitchTiles%3D%27stitch%27%2F%3E%3C%2Ffilter%3E%3Crect%20width%3D%27100%25%27%20height%3D%27100%25%27%20filter%3D%27url%28%23noiseFilter%29%27%2F%3E%3C%2Fsvg%3E')] after:mix-blend-overlay after:opacity-50 after:pointer-events-none"},M={class:"py-2 px-4 bg-[#222222]"},N={class:"m-0 text-[#929292] font-bold line-clamp-2 overflow-hidden text-ellipsis"},S={class:"m-0 text-[#AAAAAA] text-[.8rem] font-bold"},T=h({__name:"ArticleCard",props:{articleInfo:{type:Object,required:!0}},setup(p){const e=p,a=b(),f=d=>{a.push(`/article/${d}`)},i=r(!1),s=r(null),t=r(null),{setLoaded:l}=C("articleLoading"),m=()=>{if(s.value){const d=Math.ceil(s.value.clientHeight/20)+1;s.value.style.gridRowEnd=`span ${d}`}},c=()=>{t.value&&!i.value&&(t.value.addEventListener("load",()=>{i.value=!0,m()}),t.value.setAttribute("src",e.articleInfo.cover_url_list[0]))};return w(()=>{c(),l()}),(d,g)=>{const x=y;return n(),u("article",{ref_key:"cardRef",ref:s,class:"relative flex-col border-4 border-black rounded-[1.5rem_1.5rem_0_1.5rem] overflow-hidden cursor-pointer transition-all duration-200 opacity-0 animate-[fade-in_0.1s_ease-in-out_forwards] hover:animate-[fade-in_0.1s_ease-in-out_forwards,gradient-border_2s_linear_infinite]",onClick:g[0]||(g[0]=W=>f(e.articleInfo.id))},[o("div",R,[D(x,{name:"heroicons:eye",size:"20"}),o("span",null,_(e.articleInfo.views),1)]),o("div",j,[o("img",{ref_key:"imgRef",ref:t,class:"w-full object-cover align-middle"},null,512)]),o("div",M,[o("h2",N,_(e.articleInfo.title),1),o("p",S,_(e.articleInfo.description),1)])],512)}}}),q={class:"relative my-8 mx-auto max-w-[90%] min-h-[100vh]"},V={key:0,class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},O={class:"grid items-start gap-5 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2"},G=h({__name:"index",setup(p){const e=r(!0),a=r(10),f=()=>{a.value<v.length&&(a.value+=10,a.value=Math.min(a.value,v.length))},i=()=>{const s=window.scrollY||document.documentElement.scrollTop,t=document.documentElement.scrollHeight,l=document.documentElement.clientHeight;t-s<=l+100&&f()};return w(()=>{window.addEventListener("scroll",i)}),B("articleLoading",{isLoading:e,setLoaded:()=>e.value=!1}),(s,t)=>{const l=T;return n(),u("div",q,[e.value?(n(),u("div",V,t[0]||(t[0]=[o("div",{class:"zzz-loading_anim"},null,-1)]))):E("",!0),F(o("div",O,[(n(!0),u(I,null,L(k(v).slice(0,a.value),(m,c)=>(n(),$(l,{key:c,"article-info":m,style:z({animationDelay:`${.02*c}s, 0s`})},null,8,["article-info","style"]))),128))],512),[[A,!e.value]])])}}}),P=H(G,[["__scopeId","data-v-7ae6a90f"]]);export{P as default};
